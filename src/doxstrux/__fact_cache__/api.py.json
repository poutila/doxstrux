{
  "metadata": {
    "mtime": 1765468035.7888036,
    "size": 2666,
    "path": "/home/lasse/Dropbox/python/omat/doxstrux/src/doxstrux/api.py",
    "version": "1.0"
  },
  "facts": {
    "code_truth": {
      "module_doc": "Public API for doxstrux markdown parsing.\n\nThis module provides the main entry point for parsing markdown files.\nUsers should use parse_markdown_file() instead of MarkdownParserCore directly.",
      "functions": [
        {
          "name": "parse_markdown_file",
          "args": [
            "path"
          ],
          "returns": "dict[str, Any]",
          "raises": [
            "FileNotFoundError",
            "IOError",
            "MarkdownSecurityError",
            "MarkdownSizeError"
          ],
          "doc": "Parse a markdown file with automatic encoding detection.\n\nThis is the main entry point for parsing markdown files. It handles:\n- Robust encoding detection (BOM, charset-normalizer, fallbacks)\n- Security validation based on profile\n- Full structure extraction\n\nArgs:\n    path: Path to the markdown file\n    config: Optional parser configuration dict with keys:\n        - 'plugins': list of markdown-it plugins to enable\n        - 'allows_html': bool, whether HTML blocks are allowed\n        - 'preset': str, markdown-it preset ('commonmark', 'gfm', etc.)\n    security_profile: Security profile ('strict', 'moderate', 'permissive')\n        - strict: 100KB max, limited plugins, tighter validation\n        - moderate: 1MB max, standard plugins (default)\n        - permissive: 10MB max, all plugins\n\nReturns:\n    Parsed result dict containing:\n        - metadata: Document metadata including encoding info\n        - content: Raw content and lines\n        - structure: Extracted markdown structures\n        - mappings: Line-to-type mappings for code/prose classification\n\nRaises:\n    FileNotFoundError: If file doesn't exist\n    IOError: If file can't be read\n    MarkdownSecurityError: If content violates security limits\n    MarkdownSizeError: If content exceeds size limits\n\nExample:\n    >>> from doxstrux import parse_markdown_file\n    >>> result = parse_markdown_file(\"README.md\")\n    >>> print(result[\"metadata\"][\"encoding\"])\n    {'detected': 'utf-8', 'confidence': 0.99}"
        }
      ],
      "classes": {}
    },
    "node_map": {
      "module": "Public API for doxstrux markdown parsing.\n\nThis module provides the main entry point for parsing markdown files.\nUsers should use parse_markdown_file() instead of MarkdownParserCore directly.",
      "function:parse_markdown_file": "Parse a markdown file with automatic encoding detection.\n\nThis is the main entry point for parsing markdown files. It handles:\n- Robust encoding detection (BOM, charset-normalizer, fallbacks)\n- Security validation based on profile\n- Full structure extraction\n\nArgs:\n    path: Path to the markdown file\n    config: Optional parser configuration dict with keys:\n        - 'plugins': list of markdown-it plugins to enable\n        - 'allows_html': bool, whether HTML blocks are allowed\n        - 'preset': str, markdown-it preset ('commonmark', 'gfm', etc.)\n    security_profile: Security profile ('strict', 'moderate', 'permissive')\n        - strict: 100KB max, limited plugins, tighter validation\n        - moderate: 1MB max, standard plugins (default)\n        - permissive: 10MB max, all plugins\n\nReturns:\n    Parsed result dict containing:\n        - metadata: Document metadata including encoding info\n        - content: Raw content and lines\n        - structure: Extracted markdown structures\n        - mappings: Line-to-type mappings for code/prose classification\n\nRaises:\n    FileNotFoundError: If file doesn't exist\n    IOError: If file can't be read\n    MarkdownSecurityError: If content violates security limits\n    MarkdownSizeError: If content exceeds size limits\n\nExample:\n    >>> from doxstrux import parse_markdown_file\n    >>> result = parse_markdown_file(\"README.md\")\n    >>> print(result[\"metadata\"][\"encoding\"])\n    {'detected': 'utf-8', 'confidence': 0.99}"
    },
    "presence": {
      "module": true,
      "function:parse_markdown_file": true
    },
    "fingerprint": {
      "file": "/home/lasse/Dropbox/python/omat/doxstrux/src/doxstrux/api.py",
      "fingerprint": "e88c503c1ded5b4bfb4156c5645b52b968b2d7322bf36de77fe9a176a0af3f45",
      "timestamp": "2025-12-17T03:56:25.146588Z",
      "entity_count": 2,
      "documented_count": 2,
      "entities": [
        "function:parse_markdown_file",
        "module"
      ]
    },
    "requirements": [],
    "semantic_tags": {},
    "behavior_contracts": {},
    "semantic_summary": {
      "total_entities": 0,
      "tag_distribution": {},
      "pure_function_count": 0,
      "pure_function_pct": 0,
      "idempotent_count": 0,
      "thread_safe_count": 0,
      "mutation_count": 0,
      "blocking_count": 0,
      "most_common_tags": []
    }
  }
}